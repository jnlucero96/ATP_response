#!/usr/bin/env bash

ID_array=(0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67)
Ecouple_array=(8.0 8.0 8.0 8.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 16.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 32.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 64.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0 128.0)
psi1_array=(2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 2.0 2.0 2.0 2.0 2.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 2.0 2.0 2.0 2.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 2.0 2.0 2.0 2.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0)
psi2_array=(-1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -2.0 -2.0 -2.0 -2.0 -2.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0)
phase_array=(2.09440 3.14159 4.18879 5.23599 2.09440 3.14159 4.18879 5.23599 0.00000 1.04720 2.09440 3.14159 4.18879 5.23599 0.00000 1.04720 2.09440 3.14159 4.18879 5.23599 1.04720 2.09440 3.14159 4.18879 5.23599 0.00000 1.04720 2.09440 3.14159 4.18879 5.23599 0.00000 1.04720 2.09440 3.14159 4.18879 5.23599 2.09440 3.14159 4.18879 5.23599 1.04720 2.09440 3.14159 4.18879 5.23599 0.00000 1.04720 2.09440 3.14159 4.18879 5.23599 1.04720 2.09440 3.14159 4.18879 0.00000 1.04720 2.09440 3.14159 4.18879 5.23599 0.00000 1.04720 2.09440 3.14159 4.18879 5.23599)

for (( i=0; i<${#Ecouple_array[@]}; i++))
do
    echo "Resubmitting Job: ${ID_array[i]}"
    cd phase_${phase_array[i]}_dir/
    cd E0_2.0_Ecouple_${Ecouple_array[i]}_E1_2.0_dir/
    cd psi1_${psi1_array[i]}_psi2_${psi2_array[i]}_dir/
    cd n1_1.0_n2_1.0_dir/
    sbatch --job-name=nr${ID_array[i]} --time=02-00:00:00 production_slurm.sh
    sleep $[ ( $RANDOM % 10 ) + 1 ]s
    cd ../../../../
done

#cd ..
